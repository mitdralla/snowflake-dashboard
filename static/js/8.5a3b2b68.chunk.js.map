{"version":3,"sources":["components/NoEIN.js","components/common/TransactionButton.js","components/common/SignatureButton.js","../node_modules/react-router-dom/es/Link.js"],"names":["NoEIN","context","useWeb3Context","oldClientRaindropContract","useNamedContract","clientRaindropContract","_useState","useState","_useState2","Object","_home_travis_build_HydroBlockchain_snowflake_dashboard_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","hydroId","setHydroId","debouncedHydroId","useDebounce","_useState3","undefined","_useState4","hydroIdError","setHydroIdError","validateNewClientRaindrop","methods","hydroIDAvailable","call","then","result","useAccountEffect","Buffer","from","length","getUserByName","userAddress","account","catch","_useState5","_useState6","signature","setSignature","_useState7","_useState8","activeStep","setActiveStep","snowflakeContract","_1484Address","_address","stepBack","stepForward","timestamp","useRef","Math","round","Date","message","library","utils","soliditySha3","t","v","current","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","variant","gutterBottom","color","style","display","textDecoration","component","href","target","_material_ui_core_Stepper__WEBPACK_IMPORTED_MODULE_4___default","orientation","_material_ui_core_Step__WEBPACK_IMPORTED_MODULE_5___default","key","_material_ui_core_StepLabel__WEBPACK_IMPORTED_MODULE_6___default","concat","_material_ui_core_StepContent__WEBPACK_IMPORTED_MODULE_7___default","label","helperText","error","required","margin","value","onChange","e","fullWidth","disabled","onClick","marginRight","_common_SignatureButton__WEBPACK_IMPORTED_MODULE_10__","readyText","onSuccess","_common_TransactionButton__WEBPACK_IMPORTED_MODULE_11__","method","createIdentityDelegated","r","s","onConfirmation","forceAccountReRender","Link","to","ProgressIcon","withTheme","_ref","theme","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_3___default","size","typography","button","fontSize","TransactionButton","_ref2","show","classes","onTransactionHash","transactionOptions","_useTransactionManage","useTransactionManager","handlers","transactionHash","receipt","_useTransactionManage2","transactionState","transactionData","sendTransaction","resetTransaction","className","ready","sendingPending","getEtherscanLink","networkId","success","Error","defaultProps","withStyles","backgroundColor","palette","primary","main","contrastText","&:hover","dark","grey","getContrastText","SignatureButton","_useSignPersonalManag","useSignPersonalManager","_useSignPersonalManag2","signatureState","signPersonal","resetSignature","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","invariant__WEBPACK_IMPORTED_MODULE_2__","invariant__WEBPACK_IMPORTED_MODULE_2___default","history__WEBPACK_IMPORTED_MODULE_3__","_extends","assign","i","arguments","source","prototype","hasOwnProperty","_possibleConstructorReturn","self","ReferenceError","isModifiedEvent","event","metaKey","altKey","ctrlKey","shiftKey","_React$Component","_temp","_this","instance","Constructor","TypeError","_classCallCheck","this","_len","args","Array","_key","apply","handleClick","props","defaultPrevented","preventDefault","history","router","_this$props","replace","push","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","innerRef","obj","keys","indexOf","_objectWithoutProperties","location","createHref","ref","Component","propTypes","func","string","bool","oneOfType","object","isRequired","contextTypes","shape","__webpack_exports__"],"mappings":"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","file":"static/js/8.5a3b2b68.chunk.js","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { useWeb3Context, useAccountEffect } from 'web3-react/hooks'\nimport { Button } from '@material-ui/core';\nimport { TextField } from '@material-ui/core';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport { Link } from 'react-router-dom'\n\nimport { useNamedContract, useDebounce } from '../common/hooks'\nimport SignatureButton from './common/SignatureButton'\nimport TransactionButton from './common/TransactionButton'\n\nexport default function NoEIN () {\n  const context = useWeb3Context()\n\n  const oldClientRaindropContract = useNamedContract('oldClientRaindrop')\n  const clientRaindropContract = useNamedContract('clientRaindrop')\n\n  const [hydroId, setHydroId] = useState('')\n  function wrappedSetHydroId (hydroId) {\n    setHydroIdError(undefined)\n    setHydroId(hydroId)\n  }\n  const debouncedHydroId = useDebounce(hydroId, 500)\n  const [hydroIdError, setHydroIdError] = useState(undefined)\n\n  function validateNewClientRaindrop() {\n    clientRaindropContract.methods.hydroIDAvailable(debouncedHydroId).call()\n      .then(result => result ? setHydroIdError(null) : setHydroIdError('Name is already reserved.'))\n  }\n\n  useAccountEffect(() => {\n    if (debouncedHydroId === '') {\n      setHydroIdError(undefined)\n      return\n    }\n    else {\n      if (!(Buffer.from(debouncedHydroId).length > 2)) {\n        setHydroIdError('Too short.')\n        return\n      }\n\n      if (!(Buffer.from(debouncedHydroId).length < 33)) {\n        setHydroIdError('Too long.')\n        return\n      }\n\n      oldClientRaindropContract.methods.getUserByName(debouncedHydroId).call()\n        .then(result => {\n          if (result.userAddress !== context.account) setHydroIdError('Name is already reserved.')\n          else validateNewClientRaindrop()\n        })\n        .catch(() => {\n          validateNewClientRaindrop() // errors just mean that the function threw i.e. the name is untaken in old CR\n        })\n    }\n  }, [debouncedHydroId])\n\n  const [signature, setSignature] = useState('')\n  const [activeStep, setActiveStep] = useState(0)\n  const snowflakeContract = useNamedContract('snowflake')\n  const _1484Address = useNamedContract('1484')._address\n\n  function stepBack () { setActiveStep(activeStep - 1) }\n  function stepForward () { setActiveStep(activeStep + 1) }\n\n  const timestamp = useRef(Math.round(new Date() / 1000) - 120)\n  const message = context.library.utils.soliditySha3(\n    '0x19', '0x00', _1484Address,\n    'I authorize the creation of an Identity on my behalf.',\n    context.account,\n    context.account,\n    { t: 'address[]', v: [snowflakeContract._address] },\n    { t: 'address[]', v: [] },\n    timestamp.current\n  )\n\n  return (\n    <div>\n      <Typography variant=\"h3\" gutterBottom color=\"textPrimary\">\n        Follow the steps below to claim your Snowflake Identity, powered by{' '}\n        <Typography\n          style={{display: 'inline-block', textDecoration: 'none'}}\n          color='primary'\n          variant='h3'\n          component=\"a\"\n          href=\"https://erc1484.org/\"\n          target=\"_blank\"\n        >\n          ERC-1484\n        </Typography>\n        !\n      </Typography>\n\n      <Stepper activeStep={activeStep} orientation=\"vertical\">\n        <Step key={0}>\n          <StepLabel>{activeStep === 0 ? 'Pick a Hydro ID' : `Hydro ID: ${hydroId}`}</StepLabel>\n          <StepContent>\n            Before claiming your identity, you need to pick a Hydro ID. This is a public, on-chain identifier that will be linked to and identify your account.\n            <TextField\n              key='Hydro ID'\n              label='Hydro ID'\n              helperText={!hydroIdError ? 'This is a public identifier.' : hydroIdError}\n              error={!!hydroIdError}\n              required\n              margin=\"normal\"\n              value={hydroId}\n              onChange={e => wrappedSetHydroId(e.target.value)}\n              fullWidth\n            />\n            <Button\n              variant=\"contained\"\n              disabled={hydroId === '' || hydroIdError !== null}\n              onClick={stepForward}\n            >\n              Next\n            </Button>\n          </StepContent>\n        </Step>\n\n        <Step key={1}>\n          <StepLabel>Give Permission</StepLabel>\n          <StepContent>\n            The next step is for you to give us permission to create your account. This requires your signature of a hashed permission string.\n            <br />\n            <Button\n              variant=\"contained\"\n              style={{marginRight: '15px'}}\n              onClick={stepBack}\n            >\n              Back\n            </Button>\n            <SignatureButton\n              readyText='Sign'\n              message={message}\n              onSuccess={signature => {\n                setSignature(signature)\n                stepForward()\n              }}\n            />\n          </StepContent>\n        </Step>\n\n        <Step key={2}>\n          <StepLabel>Claim your Identity</StepLabel>\n          <StepContent>\n            Click below to claim your new on-chain identity!\n            <br />\n            <Button\n              variant=\"contained\"\n              style={{marginRight: '15px'}}\n              onClick={stepBack}\n            >\n              Back\n            </Button>\n            <TransactionButton\n              readyText='Send'\n              method={() => snowflakeContract.methods.createIdentityDelegated(\n                signature.from, signature.from, [], hydroId, signature.v, signature.r, signature.s, timestamp.current\n              )}\n              onConfirmation={context.forceAccountReRender}\n            />\n          </StepContent>\n        </Step>\n      </Stepper>\n\n      <Button component={Link} to=\"/claim-address\">Linking your address to an existing Identity?</Button>\n    </div>\n  )\n}\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { withTheme, withStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types';\nimport { useWeb3Context, useTransactionManager } from 'web3-react/hooks'\nimport { getEtherscanLink } from 'web3-react/utilities'\n\nconst styles = theme => ({\n  ready: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.primary.dark\n    }\n  },\n  sendingPending: {\n    backgroundColor: theme.palette.grey[300],\n    color: theme.palette.getContrastText(theme.palette.grey[300]),\n    '&:hover': {\n      backgroundColor: theme.palette.grey[500]\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.error.main,\n    color: theme.palette.error.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.error.dark\n    }\n  },\n  success: {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.success.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.success.dark\n    }\n  }\n})\n\nconst ProgressIcon = withTheme()(({ theme }) => <CircularProgress size={theme.typography.button.fontSize} />)\n\nfunction TransactionButton ({ show, method, readyText, classes, onTransactionHash, onConfirmation, transactionOptions })\n{\n  const context = useWeb3Context()\n  const [transactionState, transactionData, sendTransaction, resetTransaction] = useTransactionManager(\n    method,\n    {\n      handlers: { transactionHash: onTransactionHash, receipt: onConfirmation },\n      transactionOptions: transactionOptions\n    }\n  )\n\n  switch (transactionState) {\n    case 'ready':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          onClick={sendTransaction}\n          className={classes.ready}\n        >\n          {readyText}\n        </Button>\n      )\n    case 'sending':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          disabled={true}\n          className={classes.sendingPending}\n        >\n          <ProgressIcon />\n        </Button>\n      )\n    case 'pending':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          className={classes.sendingPending}\n          component=\"a\"\n          href={getEtherscanLink(context.networkId, 'transaction', transactionData.transactionHash)}\n          target=\"_blank\"\n        >\n          <span>Pending Confirmation <ProgressIcon /></span>\n        </Button>\n      )\n    case 'success':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          className={classes.success}\n          component=\"a\"\n          href={getEtherscanLink(context.networkId, 'transaction', transactionData.transactionHash)}\n          target=\"_blank\"\n        >\n          <span>Success!</span>\n        </Button>\n      )\n    case 'error':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          onClick={resetTransaction}\n          className={classes.error}\n        >\n          <span>Error. Retry?</span>\n        </Button>\n      )\n    default:\n      throw Error('This should not happen™.')\n  }\n}\n\nTransactionButton.propTypes = {\n  show:               PropTypes.bool,\n  method:             PropTypes.func.isRequired,\n  readyText:          PropTypes.node.isRequired,\n  classes:            PropTypes.object.isRequired,\n  onTransactionHash:  PropTypes.func,\n  onConfirmation:     PropTypes.func,\n  transactionOptions: PropTypes.object\n}\n\nTransactionButton.defaultProps = {\n  show:              true,\n  onTransactionHash: () => {},\n  onConfirmation:    () => {}\n}\n\nexport default withStyles(styles)(TransactionButton)\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { withTheme, withStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types';\nimport { useSignPersonalManager } from 'web3-react/hooks'\n\nconst styles = theme => ({\n  ready: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.primary.dark\n    }\n  },\n  sendingPending: {\n    backgroundColor: theme.palette.grey[300],\n    color: theme.palette.getContrastText(theme.palette.grey[300]),\n    '&:hover': {\n      backgroundColor: theme.palette.grey[500]\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.error.main,\n    color: theme.palette.error.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.error.dark\n    }\n  },\n  success: {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.success.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.success.dark\n    }\n  }\n})\n\nconst ProgressIcon = withTheme()(({ theme }) => <CircularProgress size={theme.typography.button.fontSize} />)\n\nfunction SignatureButton ({ show, message, readyText, classes, onSuccess }) {\n  // eslint-disable-next-line no-unused-vars\n  const [signatureState, _, signPersonal, resetSignature] = useSignPersonalManager(\n    message, { handlers: { success: onSuccess } }\n  )\n\n  switch (signatureState) {\n    case 'ready':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          onClick={signPersonal}\n          className={classes.ready}\n        >\n          {readyText}\n        </Button>\n      )\n    case 'pending':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          disabled={true}\n          className={classes.sendingPending}\n        >\n          <ProgressIcon />\n        </Button>\n      )\n    case 'success':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          className={classes.success}\n        >\n          <span>Success!</span>\n        </Button>\n      )\n    case 'error':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          onClick={resetSignature}\n          className={classes.error}\n        >\n          <span>Error. Retry?</span>\n        </Button>\n      )\n    default:\n      throw Error('This should not happen™.')\n  }\n}\n\nSignatureButton.propTypes = {\n  show:              PropTypes.bool,\n  message:           PropTypes.string.isRequired,\n  readyText:         PropTypes.node.isRequired,\n  classes:           PropTypes.object.isRequired,\n  onSuccess:         PropTypes.func\n}\n\nSignatureButton.defaultProps = {\n  show:              true,\n  onSuccess: () => {},\n}\n\nexport default withStyles(styles)(SignatureButton)\n","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport { createLocation } from \"history\";\n\nvar isModifiedEvent = function isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n};\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = function (_React$Component) {\n  _inherits(Link, _React$Component);\n\n  function Link() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Link);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (_this.props.onClick) _this.props.onClick(event);\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !_this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          var history = _this.context.router.history;\n          var _this$props = _this.props,\n              replace = _this$props.replace,\n              to = _this$props.to;\n\n          if (replace) {\n            history.replace(to);\n          } else {\n            history.push(to);\n          }\n        }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Link.prototype.render = function render() {\n    var _props = this.props,\n        replace = _props.replace,\n        to = _props.to,\n        innerRef = _props.innerRef,\n        props = _objectWithoutProperties(_props, [\"replace\", \"to\", \"innerRef\"]); // eslint-disable-line no-unused-vars\n\n\n    invariant(this.context.router, \"You should not use <Link> outside a <Router>\");\n    invariant(to !== undefined, 'You must specify the \"to\" property');\n    var history = this.context.router.history;\n    var location = typeof to === \"string\" ? createLocation(to, null, null, history.location) : to;\n    var href = history.createHref(location);\n    return React.createElement(\"a\", _extends({}, props, {\n      onClick: this.handleClick,\n      href: href,\n      ref: innerRef\n    }));\n  };\n\n  return Link;\n}(React.Component);\n\nLink.propTypes = {\n  onClick: PropTypes.func,\n  target: PropTypes.string,\n  replace: PropTypes.bool,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  innerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n};\nLink.defaultProps = {\n  replace: false\n};\nLink.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n      createHref: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default Link;"],"sourceRoot":""}